(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-huoyun-pay"],{"0452":function(t,e,o){"use strict";o.r(e);var i=o("c5f0"),a=o("4799");for(var n in a)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(n);o("6305");var r=o("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"ed71dc3e",null,!1,i["a"],void 0);e["default"]=s.exports},2010:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"u-countdown"},[t.showDays&&(t.hideZeroDay||!t.hideZeroDay&&"00"!=t.d)?o("v-uni-view",{staticClass:"u-countdown-item",style:[t.itemStyle]},[o("v-uni-view",{staticClass:"u-countdown-time",style:[t.letterStyle]},[t._v(t._s(t.d))])],1):t._e(),t.showDays&&(t.hideZeroDay||!t.hideZeroDay&&"00"!=t.d)?o("v-uni-view",{staticClass:"u-countdown-colon",style:{fontSize:t.separatorSize+"rpx",color:t.separatorColor,paddingBottom:"colon"==t.separator?"4rpx":0}},[t._v(t._s("colon"==t.separator?":":"天"))]):t._e(),t.showHours?o("v-uni-view",{staticClass:"u-countdown-item",style:[t.itemStyle]},[o("v-uni-view",{staticClass:"u-countdown-time",style:{fontSize:t.fontSize+"rpx",color:t.color}},[t._v(t._s(t.h))])],1):t._e(),t.showHours?o("v-uni-view",{staticClass:"u-countdown-colon",style:{fontSize:t.separatorSize+"rpx",color:t.separatorColor,paddingBottom:"colon"==t.separator?"4rpx":0}},[t._v(t._s("colon"==t.separator?":":"时"))]):t._e(),t.showMinutes?o("v-uni-view",{staticClass:"u-countdown-item",style:[t.itemStyle]},[o("v-uni-view",{staticClass:"u-countdown-time",style:{fontSize:t.fontSize+"rpx",color:t.color}},[t._v(t._s(t.i))])],1):t._e(),t.showMinutes?o("v-uni-view",{staticClass:"u-countdown-colon",style:{fontSize:t.separatorSize+"rpx",color:t.separatorColor,paddingBottom:"colon"==t.separator?"4rpx":0}},[t._v(t._s("colon"==t.separator?":":"分"))]):t._e(),t.showSeconds?o("v-uni-view",{staticClass:"u-countdown-item",style:[t.itemStyle]},[o("v-uni-view",{staticClass:"u-countdown-time",style:{fontSize:t.fontSize+"rpx",color:t.color}},[t._v(t._s(t.s))])],1):t._e(),t.showSeconds&&"zh"==t.separator?o("v-uni-view",{staticClass:"u-countdown-colon",style:{fontSize:t.separatorSize+"rpx",color:t.separatorColor,paddingBottom:"colon"==t.separator?"4rpx":0}},[t._v("秒")]):t._e()],1)},a=[]},4799:function(t,e,o){"use strict";o.r(e);var i=o("63cc"),a=o.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(n);e["default"]=a.a},"4a9b":function(t,e){t.exports="data:image/png;base64,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"},"4e3b":function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 颜色变量 */\n/* 边框border */[data-v-ed71dc3e] .u-primary-hover{background:linear-gradient(90deg,#00b6b4,#00d496)!important}[data-v-ed71dc3e] .u-radio{display:flex;flex-direction:row-reverse}[data-v-ed71dc3e] .u-radio-group{width:100%!important}[data-v-ed71dc3e] .u-radio__label{width:100%}',""]),t.exports=e},6305:function(t,e,o){"use strict";var i=o("737e"),a=o.n(i);a.a},"63cc":function(t,e,o){"use strict";o("7a82");var i=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("caad"),o("2532");var a=i(o("5530")),n=o("26cb"),r={data:function(){return{order_id:"",coupon_id:"",price:"",time:0,value:1,code:""}},computed:(0,a.default)({},(0,n.mapState)(["url"])),onLoad:function(t){this.order_id=t.id,this.coupon_id=t.coupon_id,this.init(),console.log(location.href),location.href.includes("code")?(this.code=location.href.split("?")[1].split("&")[0].split("=")[1],this.payAPI()):this.$store.commit("getUrl",encodeURIComponent(location.href))},methods:{init:function(){var t=this;this.$http("/addons/ddrive/hyorder/info",{order_id:this.order_id}).then((function(e){t.price=e.discount_price,t.time=e.createtime+900-(new Date).getTime()/1e3}))},pay:function(){1==this.value?location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxfa24b924871985a8&redirect_uri=".concat(this.url,"&response_type=code&scope=snsapi_base&state=STATE#wechat_re"):this.payAPI("alipay")},payAPI:function(){var t=this;this.$http("/addons/ddrive/hyorder/driver_pay",{order_id:this.order_id,coupon_id:this.coupon_id,method:"mp",code:this.code},"POST").then((function(e){console.log("支付参数1",e,t.value),3==t.value?(uni.showToast({title:"支付成功"}),setTimeout((function(){uni.navigateTo({url:"/pages/home/pay-success"})}),1e3)):1==t.value?WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,nonceStr:e.nonceStr,package:e.package,signType:e.signType,timeStamp:e.timeStamp,paySign:e.paySign},(function(t){"get_brand_wcpay_request:ok"==t.err_msg?(uni.showToast({title:"支付成功"}),setTimeout((function(){uni.redirectTo({url:"/pages/huoyun/order-detail?id="+_this.order_id})}),1e3)):uni.showToast({title:"支付失败，请重新支付",icon:"none"})})):t.value}))},radioChange:function(t){this.value=t.detail.value}}};e.default=r},"66d0":function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("a9e3");var i={name:"u-count-down",props:{timestamp:{type:[Number,String],default:0},autoplay:{type:Boolean,default:!0},separator:{type:String,default:"colon"},separatorSize:{type:[Number,String],default:30},separatorColor:{type:String,default:"#303133"},color:{type:String,default:"#303133"},fontSize:{type:[Number,String],default:30},bgColor:{type:String,default:"#fff"},height:{type:[Number,String],default:"auto"},showBorder:{type:Boolean,default:!1},borderColor:{type:String,default:"#303133"},showSeconds:{type:Boolean,default:!0},showMinutes:{type:Boolean,default:!0},showHours:{type:Boolean,default:!0},showDays:{type:Boolean,default:!0},hideZeroDay:{type:Boolean,default:!1}},watch:{timestamp:function(t,e){this.clearTimer(),this.start()}},data:function(){return{d:"00",h:"00",i:"00",s:"00",timer:null,seconds:0}},computed:{itemStyle:function(){var t={};return this.height&&(t.height=this.height+"rpx",t.width=this.height+"rpx"),this.showBorder&&(t.borderStyle="solid",t.borderColor=this.borderColor,t.borderWidth="1px"),this.bgColor&&(t.backgroundColor=this.bgColor),t},letterStyle:function(){var t={};return this.fontSize&&(t.fontSize=this.fontSize+"rpx"),this.color&&(t.color=this.color),t}},mounted:function(){this.autoplay&&this.timestamp&&this.start()},methods:{start:function(){var t=this;this.clearTimer(),this.timestamp<=0||(this.seconds=Number(this.timestamp),this.formatTime(this.seconds),this.timer=setInterval((function(){if(t.seconds--,t.$emit("change",t.seconds),t.seconds<0)return t.end();t.formatTime(t.seconds)}),1e3))},formatTime:function(t){t<=0&&this.end();var e,o=0,i=0,a=0;o=Math.floor(t/86400),e=Math.floor(t/3600)-24*o;var n=null;n=this.showDays?e:Math.floor(t/3600),i=Math.floor(t/60)-60*e-24*o*60,a=Math.floor(t)-24*o*60*60-60*e*60-60*i,n=n<10?"0"+n:n,i=i<10?"0"+i:i,a=a<10?"0"+a:a,o=o<10?"0"+o:o,this.d=o,this.h=n,this.i=i,this.s=a},end:function(){this.clearTimer(),this.$emit("end",{})},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},beforeDestroy:function(){clearInterval(this.timer),this.timer=null}};e.default=i},"736e":function(t,e,o){"use strict";var i=o("9bfe"),a=o.n(i);a.a},"737e":function(t,e,o){var i=o("4e3b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=o("4f06").default;a("543901e1",i,!0,{sourceMap:!1,shadowMode:!1})},"742a":function(t,e,o){"use strict";o.r(e);var i=o("2010"),a=o("fddf");for(var n in a)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(n);o("736e");var r=o("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"4f122086",null,!1,i["a"],void 0);e["default"]=s.exports},"9bfe":function(t,e,o){var i=o("d64d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=o("4f06").default;a("e4aa2802",i,!0,{sourceMap:!1,shadowMode:!1})},c5f0:function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return i}));var i={uCountDown:o("742a").default,uRadioGroup:o("75fc").default,uRadio:o("c26c").default,uButton:o("93c3").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"mt-85 text-center size-26"},[i("v-uni-text",{staticClass:"mr-10"},[t._v("支付剩余时间")]),i("u-count-down",{attrs:{timestamp:t.time,"font-size":"26"}})],1),i("v-uni-view",{staticClass:"yellow bold mt-15 text-center"},[i("v-uni-text",[t._v("￥")]),i("v-uni-text",{staticClass:"size-40"},[t._v(t._s(t.price))])],1),i("v-uni-view",{staticClass:"bg-white pt-30 mt-80"},[i("v-uni-view",{staticClass:"size-34 bold plr-36 mb-20"},[t._v("支付方式")]),i("v-uni-view",{staticClass:"plr-36"},[i("u-radio-group",{attrs:{"active-color":"#00C28E"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[i("u-radio",{staticClass:"w100 bb ptb-30",attrs:{name:"1"}},[i("v-uni-view",{staticClass:"flex_l"},[i("v-uni-image",{staticStyle:{width:"55rpx",height:"55rpx","margin-right":"20rpx"},attrs:{src:o("4a9b"),mode:""}}),t._v("微信支付")],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"fixed-bottom pd-36"},[i("u-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}},[t._v("确认支付")])],1)],1)},n=[]},d64d:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 颜色变量 */\n/* 边框border */.u-countdown[data-v-4f122086]{display:inline-flex;align-items:center}.u-countdown-item[data-v-4f122086]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:%?2?%;border-radius:%?6?%;white-space:nowrap;-webkit-transform:translateZ(0);transform:translateZ(0)}.u-countdown-time[data-v-4f122086]{margin:0;padding:0;line-height:1}.u-countdown-colon[data-v-4f122086]{display:flex;flex-direction:row;justify-content:center;padding:0 %?5?%;line-height:1;align-items:center;padding-bottom:%?4?%}.u-countdown-scale[data-v-4f122086]{-webkit-transform:scale(.9);transform:scale(.9);-webkit-transform-origin:center center;transform-origin:center center}',""]),t.exports=e},fddf:function(t,e,o){"use strict";o.r(e);var i=o("66d0"),a=o.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(n);e["default"]=a.a}}]);