(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shunfeng-my-book"],{"0f9d":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.upvideo=e.upload=e.changeTime=void 0,a("d3b7"),a("159b"),a("14d9"),a("99af"),a("e25e");var n=i(a("4478")),o=i(a("2909")),u=(a("dbd8"),a("910e")),l="undefined"===typeof arguments?void 0:arguments,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l.length>0&&void 0!==l[0]&&l[0];return console.log(t),new Promise((function(e,a){uni.chooseImage({count:t,sizeType:["original","compressed"],success:function(t){uni.showLoading({title:"上传中"});var a=t.tempFilePaths,i=[];a.forEach((function(t){uni.uploadFile({url:u.baseUrl+"/api/common/upload",filePath:t,name:"file",success:function(t){uni.hideLoading();var n={img1:JSON.parse(t.data).data.fullurl,img2:JSON.parse(t.data).data.url};i.push(n),i.length==a.length&&e(i)},fail:function(){uni.showToast({title:"上传失败",icon:"none"})}})}))}})}))};e.upload=s;var r=function(){return new Promise((function(t,e){uni.chooseVideo({count:1,success:function(e){uni.showLoading({title:"上传中"});var a=e.tempFilePath;uni.uploadFile({url:u.baseUrl+"/api/common/uploadali",filePath:a,name:"file",success:function(e){if(uni.hideLoading(),console.log("ffffffffffff",e.data),"4001"==JSON.parse(e.data).code)uni.showToast({title:JSON.parse(e.data).msg,icon:"none"});else{var a={video1:JSON.parse(e.data).data.fullurl,video2:JSON.parse(e.data).data.url};t(a)}},fail:function(){uni.showToast({title:"上传失败",icon:"none"})}})}})}))};e.upvideo=r;var c=function(t){var e=(0,n.default)(Date,[t.split(" ")[0].split("-")[0],t.split(" ")[0].split("-")[1]-1,t.split(" ")[0].split("-")[2]].concat((0,o.default)(t.split(" ")[1].split(":")),["00"])),a=parseInt(e.getTime()/1e3);return a};e.changeTime=c},"12af":function(t,e,a){"use strict";a.r(e);var i=a("2842"),n=a("82da");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("7516");var u=a("f0c5"),l=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"fa210d18",null,!1,i["a"],void 0);e["default"]=l.exports},2842:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={uCellItem:a("d829").default,uButton:a("93c3").default,uPopup:a("cb7f").default,uSelect:a("ddd8").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{},[i("v-uni-view",{staticClass:"mlr-36 flex mt-10 ptb-20 plr-30",staticStyle:{"box-shadow":"0px 0px 13px 0px rgba(0,194,142, 0.14)"}},[i("v-uni-view",{staticClass:"u-flex-1 ptb-30"},[i("v-uni-view",{staticClass:"flex1 flex-middle"},[i("v-uni-view",{staticClass:"bg-green",staticStyle:{width:"16rpx",height:"16rpx","border-radius":"50%"}}),i("v-uni-view",{class:[t.start.city?"":"gray-2","ml-40"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goSearch(1)}}},[t._v(t._s(t.start.city?t.start.city+"--"+t.start.name:"请选择出发城市"))])],1),i("v-uni-view",{staticClass:"ml-56 mtb-30",staticStyle:{height:"1rpx",background:"#eee"}}),i("v-uni-view",{staticClass:"flex1 flex-middle"},[i("v-uni-view",{staticClass:"bg-orange",staticStyle:{width:"16rpx",height:"16rpx","border-radius":"50%"}}),i("v-uni-view",{class:[t.end.city?"":"gray-2","ml-40"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goSearch(2)}}},[t._v(t._s(t.end.city?t.end.city+"--"+t.end.name:"请选择终点城市"))])],1)],1),i("v-uni-view",{staticClass:"img ml-20"},[i("v-uni-image",{attrs:{src:a("19a7"),mode:""}})],1)],1),i("v-uni-view",{staticClass:"mlr-36 mt-30",staticStyle:{"box-shadow":"0px 0px 13px 0px rgba(0,194,142, 0.14)"}},[i("u-cell-item",{class:[t.time?"active":""],attrs:{title:"【出发时间】",value:t.time?t.time:"请选择出发时间"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showTime=!0}}}),i("u-cell-item",{class:[t.seat?"active":""],attrs:{title:"【预定座位】",value:t.seat?t.seat:"请选择预定座位"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!0}}}),i("u-cell-item",{attrs:{title:"【手机号码】"}},[i("v-uni-view",{staticClass:"input",attrs:{slot:"right-icon"},slot:"right-icon"},[i("v-uni-input",{attrs:{type:"text",maxlength:"11",placeholder:"请输入手机号"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1)],1)],1),i("v-uni-view",{staticClass:"mlr-36 mt-50"},[i("u-button",{attrs:{disabled:!t.start.city||!t.end.city||!t.time||!t.seat||!t.tel,type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.book.apply(void 0,arguments)}}},[t._v("预约")])],1),i("v-uni-view",{staticClass:"plr-36 mt-50"},[t._v("温馨提示：")]),i("v-uni-view",{staticClass:"plr-36 size-26 mt-15"},[t._v("1.拼有提交成功后，系统会为您匹配与您出行时间相符的车主，并实时通知给您。")]),i("v-uni-view",{staticClass:"plr-36 size-26 mt-15"},[t._v("2."),i("v-uni-text",{staticClass:"green"},[t._v("匹配成功，不是预约成功")]),t._v("。此功能仅仅是通知提醒功能，拼友还是要自己判断车主路线是否适合自己，并进行预订。")],1),i("u-popup",{attrs:{mode:"bottom",height:"400"},model:{value:t.showTime,callback:function(e){t.showTime=e},expression:"showTime"}},[i("longDate",{attrs:{type:"day",openStatus:!0,getDayNum:7,chooesMaxDay:7},on:{select:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelectTime.apply(void 0,arguments)}}})],1),i("u-select",{attrs:{list:t.list},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},o=[]},2909:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t)||(0,n.default)(t)||(0,o.default)(t)||(0,u.default)()};var i=l(a("6005")),n=l(a("db90")),o=l(a("06c5")),u=l(a("3427"));function l(t){return t&&t.__esModule?t:{default:t}}},3427:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},a("d9e2"),a("d401")},4478:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=u,a("4ae1"),a("d3b7"),a("f8c9"),a("14d9");var i=o(a("b380")),n=o(a("d967"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t,a,o){return(0,n.default)()?e.default=u=Reflect.construct.bind():e.default=u=function(t,e,a){var n=[null];n.push.apply(n,e);var o=Function.bind.apply(t,n),u=new o;return a&&(0,i.default)(u,a.prototype),u},u.apply(null,arguments)}},"5c7e":function(t,e,a){var i=a("c82f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("7944737c",i,!0,{sourceMap:!1,shadowMode:!1})},6005:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return(0,i.default)(t)};var i=function(t){return t&&t.__esModule?t:{default:t}}(a("6b75"))},7516:function(t,e,a){"use strict";var i=a("5c7e"),n=a.n(i);n.a},"82da":function(t,e,a){"use strict";a.r(e);var i=a("bb24"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},b380:function(t,e,a){"use strict";function i(t,a){return e.default=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,a)}a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,a("131a")},bb24:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),o=a("26cb"),u=i(a("6036")),l=a("0f9d"),s={data:function(){return{time:"",seat:"",tel:"",list:[{value:1,label:"1人"},{value:2,label:"2人"},{value:3,label:"3人"},{value:4,label:"4人"},{value:5,label:"5人"},{value:6,label:"6人"},{value:7,label:"7人"}],show:!1,showTime:!1}},components:{longDate:u.default},computed:(0,n.default)({},(0,o.mapState)(["start","end","userInfo"])),mounted:function(){this.tel=this.userInfo.mobile,this.start.address||(this.$store.commit("getStart",{}),this.$store.commit("getEnd",{}))},methods:{goSearch:function(t){uni.navigateTo({url:"/pages/home/search?type="+t})},onSelectTime:function(t){console.log(t),t.tip?uni.showToast({title:t.tip,icon:"none"}):(this.time=t.time,this.showTime=!1)},confirm:function(t){console.log(t),this.seat=t[0].label},book:function(){this.$http("/addons/ddrive/sforder/ddriver_create",{start_address:this.start.address,start_city:this.start.city,start_name:this.start.name,start_latitude:this.start.latitude,start_longitude:this.start.longitude,end_city:this.end.city,end_address:this.end.address,end_name:this.end.name,end_latitude:this.end.latitude,end_longitude:this.end.longitude,order_type:1,start_time:(0,l.changeTime)(this.time),people_num:this.seat.substr(0,1)}).then((function(t){uni.showToast({title:"预约成功"}),setTimeout((function(){uni.redirectTo({url:"/pages/shunfeng/order-detail?id="+t.order_id})}),1e3)}))}}};e.default=s},c82f:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 颜色变量 */\n/* 边框border */[data-v-fa210d18] .u-primary-hover{background:linear-gradient(90deg,#00b6b4,#00d496)!important}[data-v-fa210d18] .uni-input-placeholder{color:#909399}.active[data-v-fa210d18] .u-cell__value{color:#333}.img uni-image[data-v-fa210d18]{width:%?40?%;height:%?40?%}.input uni-input[data-v-fa210d18]{font-size:%?26?%;text-align:right}',""]),t.exports=e},d967:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},a("d3b7"),a("f8c9"),a("4ae1")},db90:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630")}}]);